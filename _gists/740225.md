---
title: "Doctrine_Hydrator_FlatArray"
created_at: 2010-12-14T10:05:34Z
updated_at: 2010-12-14T10:06:32Z
---

<strong>Doctrine_Hydrator_FlatArray.class.php</strong>

    <?php
    /**
     * Doctrine::HYDRATE_SCALAR without component alias at the beginning.
     * For key names it takes columns and aliases from SELECT statement.
     * First column/alias from statement is used as key for whole row.
     */
    class Doctrine_Hydrator_FlatArray extends Doctrine_Hydrator_ScalarDriver {
    
      public function hydrateResultSet($stmt)
      {
        $cache = array();
        $result = array();
    
        while ($data = $stmt->fetch(Doctrine_Core::FETCH_ASSOC)) {
          $row = $this->_gatherRowData($data, $cache, false);
          $result[current($row)] = $row;
        }
    
        return $result;
      }
    
    }

[fork or comment at github](https://gist.github.com/740225)
