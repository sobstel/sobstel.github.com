---
title: "Observer in JS"
date: 2012-02-08T13:17:00Z
created_at: 2012-02-08T13:17:00Z
updated_at: 2012-02-08T13:17:00Z
---

<strong>beholder.js</strong>

    /** 
     * Global beholder for communication between blocks.
     *
     * If any callback returns true, next callbacks are NOT executed.
     */
    var Beholder = function() {
      var callbacks = {};
    
      return {
        observe: function(id, callback) {
          if (typeof(callbacks[id]) == 'undefined') {
            callbacks[id] = []
          }
          callbacks[id].push(callback);
        },
    
        notify: function(id, params) {
          if (typeof(callbacks[id]) != 'undefined') {
            callbacks[id].each(function(callback){
              result = callback.call(this, params);
              if (result === true) {
                throw $break;
              }
            });
          }
        }
      }
    
    }();


[fork or comment at github](https://gist.github.com/1769380)
