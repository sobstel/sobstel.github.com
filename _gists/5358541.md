---
title: "preg_replace_callback with match counter"
date: 2013-04-10
created_at: 2013-04-10T21:21:10Z
updated_at: 2015-08-29T13:49:40Z
---

<strong>preg_replace_callback_match_counter.php</strong>

    <?php
    $counter = 0;
    
    $result = preg_replace_callback(
      '#\?#',
      function ($match) use (&$counter) {
        $counter += 1;
        return $counter;
      },
      'a: ?, b: ?, c: ?, d: ?. e: ?'
    );
    
    echo $result;
    
    // => a: 1, b: 2, c: 3, d: 4. e: 5
    


[fork or comment at github](https://gist.github.com/5358541)
